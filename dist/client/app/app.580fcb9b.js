"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}angular.module("codeApp",["codeApp.auth","codeApp.admin","codeApp.constants","ngCookies","ngResource","ngSanitize","btford.socket-io","ngTagsInput","ui.pagedown","ngMessages","infinite-scroll","ui.router","ui.bootstrap","validation.match"]).config(["$urlRouterProvider","$locationProvider",function(a,b){a.otherwise("/"),b.html5Mode(!0)}]),angular.module("codeApp.admin",["codeApp.auth","ui.router"]),angular.module("codeApp.auth",["codeApp.constants","codeApp.util","ngCookies","ui.router"]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("codeApp.util",[]),angular.module("codeApp").config(["$stateProvider",function(a){a.state("postShow",{url:"/posts/show/:id",templateUrl:"app/postShow/postShow.html",controller:"PostShowCtrl"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b){_classCallCheck(this,a),this.users=b.query()}return a.$inject=["User"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.users.splice(this.users.indexOf(a),1)}}]),a}();angular.module("codeApp.admin").controller("AdminController",a)}(),angular.module("codeApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("logout",{url:"/logout?referrer",referrer:"main",template:"",controller:["$state","Auth",function(a,b){var c=a.params.referrer||a.current.referrer||"main";b.logout(),a.go(c)}]}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupController",controllerAs:"vm"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsController",controllerAs:"vm",authenticate:!0})}]).run(["$rootScope",function(a){a.$on("$stateChangeStart",function(a,b,c,d){"logout"===b.name&&d&&d.name&&!d.authenticate&&(b.referrer=d.name)})}]),angular.module("codeApp.admin").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"admin",authenticate:"admin"})}]),function(a,b){a.module("codeApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular),angular.module("codeApp").controller("ChatCtrl",["$scope","$stateParams","Auth","$http",function(a,b,c,d){d.get("/api/posts/"+b.id).success(function(b){a.post=b,a.user=c.getCurrentUser()})}]),angular.module("codeApp").config(["$stateProvider",function(a){a.state("chat",{url:"/chat",templateUrl:"app/chat/chat.html",controller:"ChatCtrl"})}]),angular.module("codeApp").filter("fromNow",function(){return function(a){return moment(a).locale(window.navigator.language).fromNow()}}),angular.module("codeApp").controller("PostCreateCtrl",["$scope","$http","$location","Auth",function(a,b,c,d){return d.isLoggedIn()?void(a.submit=function(){b.post("/api/posts",a.post).success(function(){console.log("submitted post"),c.path("/")})}):(c.path("/login"),void c.replace())}]),angular.module("codeApp").config(["$stateProvider",function(a){a.state("postCreate",{url:"/posts/create",templateUrl:"app/postCreate/postCreate.html",controller:"PostCreateCtrl"})}]),angular.module("codeApp").controller("PostIndexCtrl",["$scope","$http","$location","Auth","query","$modal","$document","$log",function(a,b,c,d,e,f,g,h){var i=c.search().keyword;i&&(e=_.merge(e,{$text:{$search:i}})),a.busy=!0,a.noMoreData=!1,b.get("/api/posts",{params:{query:e}}).success(function(b){a.posts=b,a.posts.length<20&&(a.noMoreData=!0),a.busy=!1}),a.nextPage=function(){if(!a.busy){a.busy=!0;var c=a.posts[a.posts.length-1]._id,d=_.merge(e,{_id:{$lt:c}});b.get("/api/posts",{params:{query:d}}).success(function(b){a.posts=a.posts.concat(b),a.busy=!1,0===b.length&&(a.noMoreData=!0)})}},a.isLike=function(a){return d.isLoggedIn()&&a&&a.likes&&a.likes.indexOf(d.getCurrentUser()._id)!==-1},a.like=function(a){b.put("/api/posts/"+a._id+"/like").success(function(){j()})},a.unlike=function(a){b["delete"]("/api/posts/"+a._id+"/like").success(function(){j()})};var j=function(){b.get("/api/posts",{params:{query:e}}).success(function(b){a.posts=b,a.posts.length<20&&(a.noMoreData=!0),a.busy=!1})};a.isReport=function(a){return d.isLoggedIn()&&a&&a.reports&&a.reports.indexOf(d.getCurrentUser()._id)!==-1},a.report=function(a){b.put("/api/posts/"+a._id+"/report").success(function(){j(),alert("Post Reported!"),a.reports.length>0})},a.unreport=function(a){b["delete"]("/api/posts/"+a._id+"/report").success(function(){j()})},a.commentScroll=function(a){b.get("/posts/show/"+a._id).success(function(){c.path("/posts/show/"+a._id)})},a.reportMail=function(a){var c={fromUser:d.getCurrentUser(),reportedPost:a};b.post("/api/posts/send",c).success(function(){})},a.shareModal=function(c,e){console.log("LOLOLOLOL");var g=f.open({animation:a.animationsEnabled,templateUrl:"app/sharePost.html",controller:["$scope","$modalInstance","post",function(a,c,e){a.post=e,a.shareEmail="me@example.com",a.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,console.log(e),a.ok=function(){c.close(a.post)},a.sharePost=function(a){var c={fromUser:d.getCurrentUser(),toEmail:this.shareEmail,sharedPost:a};b.post("/api/posts/share",c).success(function(){alert("Email Sent!")})},a.cancel=function(){c.dismiss("cancel")}}],size:c,resolve:{post:function(){return e}}});g.result.then(function(b){a.selected=b},function(){h.info("Modal dismissed at: "+new Date)})}}]),angular.module("codeApp").config(["$stateProvider",function(a){a.state("main",{url:"/?keyword",templateUrl:"app/postIndex/postIndex.html",controller:"PostIndexCtrl",resolve:{query:function(){return{}}}}).state("likedPostsIndex",{url:"/users/:userId/liked",templateUrl:"app/postIndex/postIndex.html",controller:"PostIndexCtrl",resolve:{query:["$stateParams",function(a){return{$or:[{likes:a.userId},{"comments.likes":a.userId}]}}]}}).state("userPostsIndex",{url:"/users/:userId",templateUrl:"app/postIndex/postIndex.html",controller:"PostIndexCtrl",resolve:{query:["$stateParams",function(a){return{user:a.userId}}]}}).state("userFriendIndex",{url:"/friends/:userId",templateUrl:"app/postIndex/postIndex.html",controller:"PostIndexCtrl",resolve:{query:["$stateParams",function(a){return{userId:a.userId}}]}})}]),angular.module("codeApp").controller("PostShowCtrl",["$scope","$http","$stateParams","Auth","$location","$modal","$document","$log",function(a,b,c,d,e,f,g,h){var i=function(){b.get("/api/posts/"+c.id).success(function(b){a.post=b})};i(),a.newComment={},a.submitComment=function(){b.post("/api/posts/"+c.id+"/comments",a.newComment).success(function(){i(),a.newComment={}})},a.deletePost=function(){b["delete"]("/api/posts/"+c.id).success(function(){e.path("/")})},a.deleteComment=function(a){b["delete"]("/api/posts/"+c.id+"/comments/"+a._id).success(function(){i()})},a.updatePost=function(){b.put("/api/posts/"+c.id,a.post).success(function(){i()})},a.updateComment=function(a){b.put("/api/posts/"+c.id+"/comments/"+a._id,a).success(function(){i()})},a.isOwner=function(a){return d.isLoggedIn()&&a&&a.user&&a.user._id===d.getCurrentUser()._id},a.isLike=function(a){return d.isLoggedIn()&&a&&a.likes&&a.likes.indexOf(d.getCurrentUser()._id)!==-1},a.like=function(c){b.put("/api/posts/"+a.post._id+c+"/like").success(function(){i()})},a.unlike=function(c){b["delete"]("/api/posts/"+a.post._id+c+"/like").success(function(){i()})},a.isReport=function(a){return d.isLoggedIn()&&a&&a.reports&&a.reports.indexOf(d.getCurrentUser()._id)!==-1},a.report=function(c){b.put("/api/posts/"+a.post._id+c+"/report").success(function(){""==c?alert("Post Reported!"):alert("Comment Reported!"),i()})},a.unreport=function(c){b["delete"]("/api/posts/"+a.post._id+c+"/report").success(function(){i()})},a.commentScroll=function(a){b.get("/posts/show/"+a._id).success(function(){e.path("/posts/show/"+a._id)})},a.reportMail=function(a){var c={fromUser:d.getCurrentUser(),reportedPost:a};b.post("/api/posts/send",c).success(function(){})},a.reportCommentMail=function(a,c){var e={fromUser:d.getCurrentUser(),reportedPost:a,reportedComment:c};b.post("/api/posts/reportComment",e).success(function(){})},a.newCommentMail=function(a,c){console.log(a.user);var e={fromUser:d.getCurrentUser(),thePost:a,theComment:c};b.post("/api/posts/newComment",e).success(function(){})},a.postMessage=function(a){console.log("accessToken"),console.log(d.getToken())},a.shareModal=function(c,e){console.log("LOLOLOLOL");var g=f.open({animation:a.animationsEnabled,templateUrl:"app/sharePost.html",controller:["$scope","$modalInstance","post",function(a,c,e){a.post=e,a.shareEmail="me@example.com",a.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,console.log(e),a.ok=function(){c.close(a.post)},a.sharePost=function(a){var c={fromUser:d.getCurrentUser(),toEmail:this.shareEmail,sharedPost:a};b.post("/api/posts/share",c).success(function(){alert("Email Sent!")})},a.cancel=function(){c.dismiss("cancel")}}],size:c,resolve:{post:function(){return e}}});g.result.then(function(b){a.selected=b},function(){h.info("Modal dismissed at: "+new Date)})}}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("codeApp").controller("LoginController",LoginController),angular.module("codeApp").controller("ProfileCtrl",["$http","$scope","Auth","$stateParams","$modal","$log",function(a,b,c,d,e,f){a.get("/api/users/"+d.id).success(function(a){b.user=a,b.auth=c.getCurrentUser()}),b.newReview={},b.editModal=function(c,g){console.log("LOLOLOLOL");var h=e.open({animation:b.animationsEnabled,templateUrl:"app/profile/editProfile.html",controller:["$scope","$modalInstance","user",function(b,c,e){b.user=e,b.ok=function(){c.close(b.user)},b.updateUser=function(){a.put("/api/users/"+d.id,b.user).success(function(){})},b.cancel=function(){c.dismiss("cancel")}}],size:c,resolve:{user:function(){return g}}});h.result.then(function(a){b.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},b.isOwner=function(a){return c.isLoggedIn()&&a&&a.user&&a.user._id===c.getCurrentUser()._id},b.submitReview=function(){a.post("/api/users/"+d.id+"/reviews",b.newReview).success(function(){b.newReview={}}),a.get("/api/users/"+d.id).success(function(a){b.user=a,b.auth=c.getCurrentUser()})},b.deleteReview=function(e){a["delete"]("/api/users/"+d.id+"/reviews/"+e._id).success(function(){a.get("/api/users/"+d.id).success(function(a){b.user=a,b.auth=c.getCurrentUser()})})},b.updateReview=function(e){a.put("/api/users/"+d.id+"/reviews/"+e._id,e).success(function(){a.get("/api/users/"+d.id).success(function(a){b.user=a,b.auth=c.getCurrentUser()})})},b.isLike=function(a){return c.isLoggedIn()&&a&&a.likes&&a.likes.indexOf(c.getCurrentUser()._id)!==-1}}]),angular.module("codeApp").config(["$stateProvider",function(a){a.state("profile",{url:"/profile/:id",templateUrl:"app/profile/profile.html",controller:"ProfileCtrl",sp:{authenticate:!0}})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SettingsController=function(){function a(b){_classCallCheck(this,a),this.errors={},this.submitted=!1,this.Auth=b}return a.$inject=["Auth"],_createClass(a,[{key:"changePassword",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.changePassword(this.user.oldPassword,this.user.newPassword).then(function(){b.message="Password successfully changed."})["catch"](function(){a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message=""})}}]),a}();angular.module("codeApp").controller("SettingsController",SettingsController),function(){function a(a,b,c,d,e,f,g){var h=f.safeCb,i={},j=e.userRoles||[];c.get("token")&&"/logout"!==a.path()&&(i=g.get());var k={login:function(a,e){var f=a.email,j=a.password;return b.post("/auth/local",{email:f,password:j}).then(function(a){return c.put("token",a.data.token),i=g.get(),i.$promise}).then(function(a){return h(e)(null,a),a})["catch"](function(a){return k.logout(),h(e)(a.data),d.reject(a.data)})},logout:function(){c.remove("token"),i={}},createUser:function(a,b){return g.save(a,function(d){return c.put("token",d.token),i=g.get(),h(b)(null,a)},function(a){return k.logout(),h(b)(a)}).$promise},changePassword:function(a,b,c){return g.changePassword({id:i._id},{oldPassword:a,newPassword:b},function(){return h(c)(null)},function(a){return h(c)(a)}).$promise},getCurrentUser:function(a){if(0===arguments.length)return i;var b=i.hasOwnProperty("$promise")?i.$promise:i;return d.when(b).then(function(b){return h(a)(b),b},function(){return h(a)({}),{}})},isLoggedIn:function(a){return 0===arguments.length?i.hasOwnProperty("role"):k.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return h(a)(c),c})},hasRole:function l(a,b){var l=function(a,b){return j.indexOf(a)>=j.indexOf(b)};return arguments.length<2?l(i.role,a):k.getCurrentUser(null).then(function(c){var d=!!c.hasOwnProperty("role")&&l(c.role,a);return h(b)(d),d})},isAdmin:function(){return k.hasRole.apply(k,[].concat.apply(["admin"],arguments))},getToken:function(){return c.get("token")}};return k}a.$inject=["$location","$http","$cookies","$q","appConfig","Util","User"],angular.module("codeApp.auth").factory("Auth",a)}(),function(){function a(a,b,c,d,e){var f;return{request:function(a){return a.headers=a.headers||{},c.get("token")&&e.isSameOrigin(a.url)&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status&&((f||(f=d.get("$state"))).go("login"),c.remove("token")),b.reject(a)}}}a.$inject=["$rootScope","$q","$cookies","$injector","Util"],angular.module("codeApp.auth").factory("authInterceptor",a)}(),function(){angular.module("codeApp.auth").run(["$rootScope","$state","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.authenticate&&("string"==typeof d.authenticate?c.hasRole(d.authenticate,_.noop).then(function(d){if(!d)return a.preventDefault(),c.isLoggedIn(_.noop).then(function(a){b.go(a?"main":"login")})}):c.isLoggedIn(_.noop).then(function(c){c||(a.preventDefault(),b.go("main"))}))})}])}(),function(){function a(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}a.$inject=["$resource"],angular.module("codeApp.auth").factory("User",a)}(),angular.module("codeApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer")}}}),angular.module("codeApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=arguments.length<=1||void 0===arguments[1]?"modal-default":arguments[1],e=a.$new();return angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(){var a=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("codeApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}});var NavbarController=function a(b,c){_classCallCheck(this,a),this.isCollapsed=!0,this.search=function(a){c.go("main",{keyword:a},{reload:!0})},this.menu=[{title:"All",expand:function(){return!0},link:function(){return"/"},show:function(){return!0}},{title:"Friends",expand:function(){return!0},link:function(){return"/friends/"+b.getCurrentUser()._id},show:b.isLoggedIn},{title:"Mine",expand:function(){return!0},link:function(){return"/users/"+b.getCurrentUser()._id},show:b.isLoggedIn},{title:"Liked",link:function(){return"/users/"+b.getCurrentUser()._id+"/liked"},show:b.isLoggedIn},{title:"Chatroom",link:function(){return"/chat"},show:function(){return!0}}],this.isLoggedIn=b.isLoggedIn,this.isAdmin=b.isAdmin,this.getCurrentUser=b.getCurrentUser};NavbarController.$inject=["Auth","$state"],angular.module("codeApp").controller("NavbarController",NavbarController),angular.module("codeApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),angular.module("codeApp").controller("OauthButtonsCtrl",["$window",function(a){this.loginOauth=function(b){a.location.href="/auth/"+b}}]),angular.module("codeApp").directive("oauthButtons",function(){return{templateUrl:"components/oauth-buttons/oauth-buttons.html",restrict:"EA",controller:"OauthButtonsCtrl",controllerAs:"OauthButtons",scope:{classes:"@"}}});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SignupController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"register",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.createUser({name:this.user.name,email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(c){c=c.data,b.errors={},angular.forEach(c.errors,function(c,d){a[d].$setValidity("mongoose",!1),b.errors[d]=c.message})})}}]),a}();angular.module("codeApp").controller("SignupController",SignupController),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,""===b.host&&(b.href=b.href),b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1}};return b}a.$inject=["$window"],angular.module("codeApp.util").factory("Util",a)}(),angular.module("codeApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div class=row><div class=col-sm-12><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@example.com</code> / <code>test</code></p><p>Admin account is <code>admin@example.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=vm.login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && vm.submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && vm.submitted">Please enter a valid email.</p><p class=help-block>{{ vm.errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" ui-sref=signup>Register</a></div><hr><div class=row><div class="col-sm-4 col-md-3"><oauth-buttons classes=btn-block></oauth-buttons></div></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=vm.user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)">Password must be at least 3 characters.</p></div><div class=form-group><label>Confirm New Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><p class=help-block>{{ vm.message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && vm.submitted,\r\n                                            \'has-error\': form.name.$invalid && vm.submitted }"><label>Name</label><input name=name class=form-control ng-model=vm.user.name required><p class=help-block ng-show="form.name.$error.required && vm.submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\r\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && vm.submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && vm.submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ vm.errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && vm.submitted,\r\n                                            \'has-error\': form.password.$invalid && vm.submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && vm.submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.password }}</p></div><div class=form-group ng-class="{ \'has-success\': form.confirmPassword.$valid && vm.submitted,\r\n                                            \'has-error\': form.confirmPassword.$invalid && vm.submitted }"><label>Confirm Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.password ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-login" ui-sref=login>Login</a></div><hr><div class=row><div class="col-sm-4 col-md-3"><oauth-buttons classes=btn-block></oauth-buttons></div></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class="list-group user-list"><li class=list-group-item ng-repeat="user in admin.users"><div class=user-info><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span></div><a ng-click=admin.delete(user) class=trash><span class="fa fa-trash fa-2x"></span></a></li></ul></div>'),a.put("app/chat/chat.html",'<html><head><title>LendAHand Open Chat</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css><script src=http://code.jquery.com/jquery-latest.min.js></script><script src=/socket.io/socket.io.js></script><style>body{\r\n\t\t\tmargin-top:30px;\r\n\t\t}\r\n\t\t#messageArea{\r\n\t\t\tdisplay:none;\r\n\t\t}</style></head><body><!-- <div class="container">\r\n\t\t<div id="userFormArea" class="row">\r\n\t\t\t<div class="col-md-12">\r\n\t\t\t\t<form id="userForm">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label>Enter Username</label>\r\n\t\t\t\t\t\t<input class="form-control" id="username" />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<input type="submit" class="btn btn-primary" value="Login" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-md-4">\r\n\t\t\t\t<div class="well">\r\n\t\t\t\t\t<h3>Online Users</h3>\r\n\t\t\t\t\t<ul class="list-group" id="users"></ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-md-8">\r\n\t\t\t\t<div class="chat" id="chat"></div>\r\n\r\n\t\t\t\t<form id="messageForm">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label>Enter Message</label>\r\n\t\t\t\t\t\t<textarea class="form-control" id="message"></textarea>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<input type="submit" class="btn btn-primary" value="Send Message" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<script>\r\n\t\t $(function(){\r\n\t\t\tvar socket = io.connect();\r\n\t\t\tvar $messageForm = $(\'#messageForm\');\r\n\t\t\tvar $message = $(\'#message\');\r\n\t\t\tvar $chat = $(\'#chat\');\r\n\t\t\tvar $messageArea = $(\'#messageArea\');\r\n\t\t\tvar $userFormArea = $(\'#userFormArea\');\r\n\t\t\tvar $userForm = $(\'#userForm\');\r\n\t\t\tvar $users = $(\'#users\');\r\n\t\t\tvar $username = $(\'#username\');\r\n\t\t\t$messageForm.submit(function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tsocket.emit(\'send message\', $message.val());\r\n\t\t\t\t$message.val(\'\');\r\n\t\t\t});\r\n\t\t\tsocket.on(\'new message\', function(data){\r\n'+"\t\t\t\t$chat.append('<div class=\"well\"><strong>'+data.user+'</strong>:'+data.msg+'</div');\r\n\t\t\t});\r\n\t\t\t$userForm.submit(function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tsocket.emit('new user', $username.val(), function(data){\r\n\t\t\t\t\tif(data){\r\n\t\t\t\t\t\t$userFormArea.hide();\r\n\t\t\t\t\t\t$messageArea.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t$username.val('');\r\n\t\t  });\r\n\t\t\tsocket.on('get users', function(data){\r\n\t\t\t\tvar html = '';\r\n\t\t\t\tfor(i = 0; i<data.length; i++){\r\n\t\t\t\t\thtml += '<li class=\"list-group-item\">'+data[i]+'</li>'\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\t\t\t\t$users.html(html);\r\n\t\t\t});\r\n\t\t});\r\n\t</script>\r\n --><iframe src=https://centred-city.000webhostapp.com/index.html style=\"border: 0; top:0; left:0; right:0; bottom:0; width:100%; height: 1000px\"></iframe></body></html>"),a.put("app/postCreate/postCreate.html",'<div class=postForm><form name=form ng-submit=submit()><h1>New Service</h1><hr><h2>Title:</h2><input class=form-control ng-model=post.title name=post_title required> <span class=text-danger ng-messages=form.post_title.$error><span ng-message=required>Required</span></span> <span class=text-success ng-show=form.post_title.$valid>OK</span><br><h2>Description:</h2><textarea style="min-width:100%;min-height:150px;border:solid 1px black" ng-model=post.description ng-model=post.description name=post_description required></textarea><span class=text-danger ng-messages=form.post_description.$error><span ng-message=required>Required</span></span> <span class=text-success ng-show=form.post_description.$valid>OK</span><h2>Price:</h2><input type=number class=form-control ng-model=post.price name=post_price required> <span class=number-danger ng-messages=form.post_price.$error><span ng-message=required>Required</span></span> <span class=text-success ng-show=form.post_price.$valid>OK</span><h2>Location:</h2><input type=string class=form-control ng-model=post.location name=post_location required> <span class=string-danger ng-messages=form.post_location.$error><span ng-message=required>Required</span></span> <span class=text-success ng-show=form.post_location.$valid>OK</span><!-- <h2>Service Date:</h2>\r\n        <input type="date" class="form-control" ng-model="post.serviceDate" name="post_serviceDate" required>\r\n        <span class="date-danger" ng-messages="form.post_serviceDate.$error">\r\n          <span ng-message="required">Required</span>\r\n        </span>\r\n        <span class="date-success" ng-show="form.post_serviceDate.$valid">OK</span> --><h2>Tags:</h2><tags-input ng-model=post.tags><!-- <auto-complete source="loadTags($query)"></auto-complete> --></tags-input><input type=submit class="btn btn-primary" ng-disabled=form.$invalid value="Post Service"></form></div>'),a.put("app/postIndex/postIndex.html",'<header class=hero-unit id=banner><div class=container><h1>LendAHand</h1><p class=lead>Trustworthy Network for Exchanging Services</p><!-- <img src="assets/images/lendahand.eeb7d78c.png" alt="I\'m Yeoman"> --></div></header><div class=container infinite-scroll=nextPage() infinite-scroll-disabled="busy || noMoreData"><br><div style="text-align: center"><a type=button class="btn btn-primary" href=/posts/create>New Post</a></div><div class="col-md-8 col-xs-12 col-md-offset-2"><table class="table table-striped"><thead><tr><!-- <th width="10">Likes</th> --><!-- <th width="10">Comments</th> --><th>Post</th></tr></thead><tbody><tr ng-repeat="post in posts"><!-- <td style="text-align: center; vertical-align:middle">\r\n         <div style="font-size: xx-large;">{{post.likes.length}}</div>\r\n       </td> --><!-- <td style="text-align: center; vertical-align:middle">\r\n         <div style="font-size: xx-large;">{{post.comments.length}}</div>\r\n       </td> --><td><div style="float: right">{{post.createdAt|fromNow}} <span ng-if="post.progress == \'Open\'" class="sphere green" title=Open></span> <span ng-if="post.progress == \'In Progress\'" class="sphere orange" title="In Progress"></span> <span ng-if="post.progress == \'Closed\'" class="sphere red" title=Closed></span></div><a ng-href=/posts/show/{{post._id}} style="font-size: xx-large">{{post.title}}</a> <small>Requested by <a ng-href=/profile/{{post.user._id}}>{{post.user.name}}</a></small><div><span ng-repeat="tag in post.tags"><a href="/?keyword={{tag.text}}"><span class="label label-info">{{tag.text}}</span></a> &nbsp;</span></div><div class=indexDescription>{{post.description}}</div><br><div class=clearfix></div><div style="float: right"><!-- Posted by <a ng-href="/users/{{post.user._id}}">{{post.user.name}}</a> -->{{post.location}},${{post.price}}</div><div><span><button ng-if=" isLike(post)" type=button style="background: transparent; border: 0" ng-click=unlike(post)><span class="glyphicon glyphicon-heart" style="color: #CF7C00"></span>Like</button> <button ng-if=!isLike(post) type=button style="background: transparent; border: 0" ng-click=like(post)><span class="glyphicon glyphicon-heart-empty"></span>Like</button></span> <span><button type=button style="background: transparent; border: 0" ng-click=commentScroll(post)><span class="glyphicon glyphicon-envelope"></span> Comment ({{post.comments.length}})</button></span> <span><button type=button style="background: transparent; border: 0" ng-click="shareModal(\'sm\',post)"><span class="glyphicon glyphicon-envelope"></span>Share</button></span> <span><button ng-if=" isReport(post)" type=button style="background: transparent; border: 0" ng-click=unreport(post)><span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00"></span>Report</button> <button ng-if=!isReport(post) type=button style="background: transparent; border: 0" ng-click="report(post); reportMail(post)"><span class="glyphicon glyphicon-warning-sign"></span>Report</button></span></div><div class=clearfix></div></td></tr></tbody></table></div><div ng-show=busy>Loading data...</div></div>'),
a.put("app/postShow/postShow.html",'<div class=container id=post-show-container><div class="col-md-8 col-md-offset-2"><button ng-if=isOwner(post) type=button class=close ng-click=deletePost()>&times;</button><div><div style="float: right"><button ng-click=postMessage(post) class="btn btn-success btn-block"><span class="fa fa-plus-circle"></span> Message</button>{{post.createdAt|fromNow}} <span ng-if="! editing && post.progress == \'Open\'" class="sphere green" title=Open></span> <span ng-if="! editing && post.progress == \'In Progress\'" class="sphere orange" title="In Progress"></span> <span ng-if="! editing && post.progress == \'Closed\'" class="sphere red" title=Closed></span><select type=text ng-model=post.progress ng-if=" editing"><option value=Open>Open</option><option value="In Progress">In Progress</option><option value=Closed>Closed</option></select></div><div><span style=font-size:xx-large ng-if="! editing">{{post.title}}</span> <input ng-model=post.title ng-if=" editing"> <small>Requested by <a ng-href=/profile/{{post.user._id}}>{{post.user.name}} <img ng-src={{post.user.facebook.picture.data.url}} style=height:25px;width:25px class="img-circle"></a></small></div><span ng-repeat="tag in post.tags"><a href="../?keyword={{tag.text}}"><span class="label label-info">{{tag.text}}</span></a> &nbsp;</span></div><!-- <div style="float: left;font-size: x-large; padding: 0; width: 2em; text-align: center;">\r\n      <button ng-if=" isReport(post)" type="button" style="background: transparent; border: 0;" ng-click="unreport(\'\')">\r\n        <span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00;" ></span>\r\n      </button>\r\n      <button ng-if="!isReport(post)" type="button" style="background: transparent; border: 0;" ng-click="report(\'\')"  >\r\n        <span class="glyphicon glyphicon-warning-sign"></span>\r\n      </button>\r\n      <br/>\r\n      <div>{{post.reports.length}}</div>\r\n    </div> --><pagedown-viewer content=post.description ng-if=!editing></pagedown-viewer><textarea style="min-width:100%;min-height:150px;border:solid 1px black" ng-model=post.description ng-if=" editing"></textarea><br><div style=float:right><div ng-if="! editing">{{post.location}} ${{post.price}}</div><input ng-model=post.location ng-if=" editing"> <input type=number ng-model=post.price ng-if=" editing"></div><button type=submit class="btn btn-primary" ng-click="editing=false;updatePost()" ng-show=" editing">Save</button> <a ng-click="editing=!editing;" ng-show="isOwner(post) && !editing">Edit</a><div><span><button ng-if=" isLike(post)" type=button style="background: transparent; border: 0" ng-click="unlike(\'\')"><span class="glyphicon glyphicon-heart" style="color: #CF7C00"></span>Like</button> <button ng-if=!isLike(post) type=button style="background: transparent; border: 0" ng-click="like(\'\')"><span class="glyphicon glyphicon-heart-empty"></span>Like</button></span> <span><button type=button style="background: transparent; border: 0" ng-click=commentScroll(post)><span class="glyphicon glyphicon-envelope"></span> Comment ({{post.comments.length}})</button></span> <span><button type=button style="background: transparent; border: 0" ng-click="shareModal(\'sm\',post)"><span class="glyphicon glyphicon-envelope"></span>Share</button></span> <span><button ng-if=" isReport(post)" type=button style="background: transparent; border: 0" ng-click="unreport(\'\')"><span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00"></span>Unreport</button> <button ng-if=!isReport(post) type=button style="background: transparent; border: 0" ng-click="report(\'\');reportMail(post)"><span class="glyphicon glyphicon-warning-sign"></span>Report</button></span></div><!-- <hr>\r\n<div style="float: left;font-size: x-large; padding: 0; width: 2em; text-align: center;">\r\n      <button ng-if=" isLike(post)" type="button" style="background: transparent; border: 0;" ng-click="unlike(\'\')">\r\n        <span class="glyphicon glyphicon-like" style="color: #CF7C00;" ></span>\r\n      </button>\r\n      <button ng-if="!isLike(post)" type="button" style="background: transparent; border: 0;" ng-click="like(\'\')"  >\r\n        <span class="glyphicon glyphicon-like-empty"></span>\r\n      </button>\r\n      <br/>\r\n      <div>{{post.likes.length}}</div>\r\n    </div>\r\nLike\r\n\r\n    <h3>\r\n      <div ng-if="! editing">{{post.location}}</div>\r\n      <input type=text ng-model="post.location" ng-if=" editing">\r\n    </h3>\r\n\r\n    <h3>\r\n      <div ng-if="! editing">{{post.serviceDate | date:\'mediumDate\'}}</div>\r\n      <input type=date ng-model="post.serviceDate" ng-if=" editing">\r\n    </h3>\r\n\r\n    <h3>\r\n      <div ng-if="! editing">{{post.progress}}</div>\r\n      <select type=text ng-model="post.progress" ng-if=" editing">\r\n          <option value="Open">Open</option>\r\n          <option value="In Progress">In Progress</option>\r\n          <option value="Closed">Closed</option>\r\n        </select>\r\n    </h3> --><!-- <button type="submit" class="btn btn-primary" ng-click="editing=false;updatePost()" ng-show=" editing">Save</button>\r\n    <a ng-click="editing=!editing;" ng-show="isOwner(post) && !editing">Edit</a> --><!-- <div class="text-right">by {{post.user.name}} · {{post.createdAt|fromNow}}</div> --><hr><h3>{{post.comments.length}} Comments</h3><div ng-repeat="comment in post.comments"><!-- <div style="float: left;font-size: large; padding: 0; width: 2em; text-align: center;">\r\n       <button ng-if=" isLike(comment)" type="button" style="background: transparent; border: 0;" ng-click="unlike(\'/comments/\' + comment._id)">\r\n         <span class="glyphicon glyphicon-heart" style="color: #CF7C00;" ></span>\r\n       </button>\r\n       <button ng-if="!isLike(comment)" type="button" style="background: transparent; border: 0;" ng-click="  like(\'/comments/\' + comment._id)"  >\r\n         <span class="glyphicon glyphicon-heart-empty"></span>\r\n       </button>\r\n       <br/>\r\n       <div>{{comment.likes.length}}</div>\r\n     </div>\r\n\r\n     <div style="float: right;font-size: large; padding: 0; width: 2em; text-align: center;">\r\n      <button ng-if=" isReport(comment)" type="button" style="background: transparent; border: 0;" ng-click="unreport(\'/comments/\' + comment._id)">\r\n        <span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00;" ></span>\r\n      </button>\r\n      <button ng-if="!isReport(comment)" type="button" style="background: transparent; border: 0;" ng-click="  report(\'/comments/\' + comment._id)"  >\r\n        <span class="glyphicon glyphicon-warning-sign"></span>\r\n      </button>\r\n      <br/>\r\n      <div>{{comment.reports.length}}</div>\r\n    </div> --><div><pagedown-viewer content=comment.content ng-if=!editing2></pagedown-viewer><textarea style="min-width:100%;min-height:150px;border:solid 1px black" ng-model=comment.content ng-if=" editing2&&isOwner(comment)"></textarea><button type=submit class="btn btn-primary" ng-click="editing2=false;updateComment(comment)" ng-show=" editing2">Save</button> <a ng-click="editing2=!editing2;" ng-show="isOwner(comment) && !editing2">Edit</a><br><span><button ng-if=" isLike(comment)" type=button style="background: transparent; border: 0" ng-click="unlike(\'/comments/\' + comment._id)"><span class="glyphicon glyphicon-heart" style="color: #CF7C00"></span>Like</button> <button ng-if=!isLike(comment) type=button style="background: transparent; border: 0" ng-click="  like(\'/comments/\' + comment._id)"><span class="glyphicon glyphicon-heart-empty"></span>Like</button></span> <span><button ng-if=" isReport(comment)" type=button style="background: transparent; border: 0" ng-click="unreport(\'/comments/\' + comment._id)"><span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00"></span>Unreport</button> <button ng-if=!isReport(comment) type=button style="background: transparent; border: 0" ng-click="  report(\'/comments/\' + comment._id);reportCommentMail(post,comment)"><span class="glyphicon glyphicon-warning-sign"></span>Report</button></span> <span style=float:right class=text-right>by <a href=../profile/{{comment.user._id}}>{{comment.user.name}} <img ng-src={{comment.user.facebook.picture.data.url}} style=height:25px;width:25px class="img-circle"></a> · {{comment.createdAt|fromNow}}</span><hr></div></div><h3>Your comment</h3><div><form name=commentForm ng-submit=submitComment();newCommentMail(post,newComment)><textarea style="min-width:100%;min-height:150px;border:solid 1px black" ng-model=newComment.content name=commentEditor required></textarea><br><input type=submit class="btn btn-primary" ng-disabled=commentForm.$invalid value="Submit your comment"></form></div></div></div>'),a.put("app/profile/editProfile.html",'<div class=postForm><form name=form ng-submit="updateUser(); ok()"><h1>Edit Profile</h1><hr><h2>Name:</h2><input class=form-control ng-model=user.name name=user_name required> <span class=text-danger ng-messages=form.post_title.$error><span ng-message=required>Required</span></span> <span class=text-success ng-show=form.post_title.$valid>OK</span><br><h2>Image:</h2><input type=file fileread=user.background.image ng-model="user.background.image"> <img ng-show=user.background.image><h2>Biography:</h2><textarea style="min-width:100%;min-height:50px;border:solid 1px black" ng-model=user.background.biography></textarea><h2>Hobbies:</h2><textarea style="min-width:100%;min-height:50px;border:solid 1px black" ng-model=user.background.hobbies></textarea><h2>Skills:</h2><tags-input ng-model=user.background.skills><!-- <auto-complete source="loadTags($query)"></auto-complete> --></tags-input><br><input type=submit class="btn btn-primary" ng-disabled=form.$invalid value="Update Profile"> <input class="btn btn-primary" style="float: right" ng-click=cancel() value=Cancel></form><br></div>'),a.put("app/profile/profile.html",'<div class=container id=profile-view-container><div class=row><div class="col-md-6 col-md-offset-3"><div class="panel panel-default"><div class=panel-body><div class=row><div class="col-xs-12 col-sm-8"><h2>{{user.name}}</h2><p><strong>Location:</strong>{{user.background.location}}</p><p><strong>About:</strong>{{user.background.biography}}</p><p><strong>Hobbies:</strong>{{user.background.hobbies}}</p><p><strong>Skills:</strong> <span ng-repeat="skill in user.background.skills"><a href="../?keyword={{skill.text}}"><span class="label label-info">{{skill.text}}</span></a> &nbsp;</span></p></div><!--/col--><div class="col-xs-12 col-sm-4 text-center"><img ng-src={{auth.facebook.picture.data.url}} class="center-block img-circle img-responsive"> <button type=button class="btn btn-primary btn-block" ng-show="user._id == auth._id" ng-click="editModal(\'lg\',user)"><span class="fa fa-gear"></span> Edit Profile</button><ul class="list-inline ratings text-center" title=Ratings><li><a href=#><span class="fa fa-star fa-lg"></span></a></li><li><a href=#><span class="fa fa-star fa-lg"></span></a></li><li><a href=#><span class="fa fa-star fa-lg"></span></a></li><li><a href=#><span class="fa fa-star fa-lg"></span></a></li><li><a href=#><span class="fa fa-star fa-lg"></span></a></li></ul></div><!--/col--></div><!--/col--><div class="col-xs-12 col-sm-4"><!-- <h2><strong> 20,7K </strong></h2>\r\n                          <p><small>Followers</small></p> --><a href=../chat><button class="btn btn-success btn-block"><span class="fa fa-plus-circle"></span> Message</button></a></div><!--/col--><div class="col-xs-12 col-sm-4"><!-- <h2><strong>245</strong></h2>\r\n                          <p><small>Following</small></p> --><a href=../users/{{user._id}}><button class="btn btn-info btn-block"><span class="fa fa-user"></span> Posts</button></a></div><!--/col--><div class="col-xs-12 col-sm-4"><!-- <h2><strong>43</strong></h2>\r\n                          <p><small>Snippets</small></p> --><a href=../users/{{user._id}}/liked><button type=button class="btn btn-primary btn-block"><span class="fa fa-gear"></span> Liked</button></a></div><!--/row--></div><!--/panel-body--></div><!--/panel--></div></div></div><!-- // --><div class=col-md-offset-4><h3><strong>Your review</strong></h3></div><div class=col-md-offset-4><form name=reviewForm ng-submit=submitReview()><textarea placeholder="Rate on a scale of 0-5" style="min-width:50%;height:20px;border:solid 1px black" ng-model=newReview.rating name=reviewEditor required></textarea><textarea placeholder=Review style="min-width:50%;min-height:150px;border:solid 1px black" ng-model=newReview.content name=reviewEditor required></textarea><br><input type=submit class="btn btn-primary" ng-disabled=reviewForm.$invalid value="Submit your review"></form></div><!-- // --><br><!-- Review Display --><div class=container id=profile-view-container><br><div ng-repeat="review in user.reviews"><div class=review><button ng-if=isOwner(review) type=button class=close ng-click=deleteReview(review)>&times;</button><pagedown-viewer content=review.content ng-if=!editing2><pagedown-viewer><textarea style="min-width:100%;min-height:150px;border:solid 1px black" ng-model=review.content ng-if=" editing2&&isOwner(review)"></textarea><button type=submit class="btn btn-primary" ng-click="editing2=false;updateReview(review)" ng-show=" editing2">Save</button> <a ng-click="editing2=!editing2;" ng-show="isOwner(review) && !editing2">Edit</a><br><span><button ng-if=" isLike(review)" type=button style="background: transparent; border: 0" ng-click="unlike(\'/reviews/\' + review._id)"><span class="glyphicon glyphicon-heart" style="color: #CF7C00"></span>Like</button> <button ng-if=!isLike(review) type=button style="background: transparent; border: 0" ng-click="  like(\'/reviews/\' + review._id)"><span class="glyphicon glyphicon-heart-empty"></span>Like</button></span> <span><button ng-if=" isReport(review)" type=button style="background: transparent; border: 0" ng-click="unreport(\'/reviews/\' + review._id)"><span class="glyphicon glyphicon-warning-sign" style="color: #CF7C00"></span>Unreport</button> <button ng-if=!isReport(review) type=button style="background: transparent; border: 0" ng-click="  report(\'/reviews/\' + review._id);reportCommentMail(post,review)"><span class="glyphicon glyphicon-warning-sign"></span>Report</button></span><div>Rating: {{review.rating}}</div><span style=float:right class=text-right>by {{review.user.name}} · {{review.createdAt|fromNow}}</span></pagedown-viewer></pagedown-viewer></div><hr></div></div>'),a.put("app/sharePost.html",'<!-- <form name="shareForm" data-ng-submit="sharePost(post)">\r\n  <md-input-container>\r\n    <label>Email to share to</label>\r\n    <input type="text" data-ng-model="shareEmail">\r\n  </md-input-container>\r\n  <button type="submit" ng-click="ok()"> Send </button>\r\n</form> --><!-- <script>\r\nfunction Ctrl($scope) {\r\n  $scope.shareEmail = \'me@example.com\';\r\n  $scope.emailFormat = /^[a-z]+[a-z0-9._]+@[a-z]+\\.[a-z.]{2,5}$/;\r\n}\r\n</script> --><div class=modal-body id=modal-body><span>Email to share to</span> <input data-ng-model=shareEmail ng-pattern=emailFormat required></div><div class=modal-footer><button class="btn btn-primary" type=submit ng-click="sharePost(post); ok()">OK</button> <button class="btn btn-warning" type=button ng-click=cancel()>Cancel</button></div><br><br>'),a.put("components/footer/footer.html","<div class=container><p>Copyright ©. 2017. LendAHand v1.0.0. All Rights Reserved.</p></div>"),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarController><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="nav.isCollapsed = !nav.isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>LendAHand</a></div><div collapse=nav.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in nav.menu" ng-class="{active: isActive(item.link())}" ng-show=item.show()><a ng-href={{item.link()}}>{{item.title}}</a></li><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=admin>Admin</a></li></ul><form class="navbar-form navbar-left" style="width: 250px" role=search ng-submit=nav.search(keyword)><div class=input-group><input class=form-control placeholder=Search ng-model=keyword> <span class=input-group-btn><button type=submit class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button></span></div></form><ul class="nav navbar-nav navbar-right"><li ng-hide=nav.isLoggedIn() ui-sref-active=active><a ui-sref=signup>Sign up</a></li><li ng-hide=nav.isLoggedIn() ui-sref-active=active><a ui-sref=login>Login</a></li><li ng-show=nav.isLoggedIn() ui-sref-active=active><a ng-href=/profile/{{nav.getCurrentUser()._id}}>{{ nav.getCurrentUser().name }}</a></li><li ng-show=nav.isLoggedIn() ui-sref-active=active><a ui-sref=settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=nav.isLoggedIn()><a ui-sref=logout>Logout</a></li></ul></div></div></div>'),a.put("components/oauth-buttons/oauth-buttons.html",'<a ng-class=classes ng-click="OauthButtons.loginOauth(\'facebook\')" class="btn btn-social btn-facebook"><i class="fa fa-facebook"></i> Connect with Facebook</a>')}]);